<!doctype html>
<html>
    <head>
        <title>Google Web Optimizer Multi Experiment Helper</title>
        
        <!-- Bootstrap css -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="js/prettify/prettify.css" rel="stylesheet">

        <link href="css/style.css" rel="stylesheet">
        
    </head>
    <body data-spy="scroll">
        <div id="navbar" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="#">gwohelper.js</a>
                    <div class="nav-collapse">
                        <ul class="nav">
                            <li class="active"><a href="#summary">Summary</a></li>
                            <li><a href="#setup">Code Setup</a></li>
                            <li><a href="#gwo">GWO Setup</a></li>
                            <li><a href="#experiments">Experiments</a></li>
                            <li><a href="#demo">Demo</a></li>
                            <li><a href="#about">About</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </div>
        </div>

        <div class="container">
            <div class="forkme">
                <a href="https://github.com/blackjid/gwohelper" target="_blank" data-action="goal" data-goal="fork">
                    <img class="red" src="img/fork/red.png"/ > 
                    <img class="blue" src="img/fork/blue.png"/ > 
                    <img class="black" src="img/fork/black.png"/ > 
                </a>
            </div>
            <div class="hero-unit">
                <h1>Google Web Optimizer Helper</h1>
                <p>I wrote this helper to create multiple experiments with GWO in my startup <a href="http://voxound.com" target="_blank">voxound.com</a>, here is the code for you to fork, give feedback and use it in your own projects.</p>
                <p>
                    <a href="http://github.com/blackjid/gwohelper" target="_blank" class="btn btn-xlarge">View on github</a>
                    <a id="download" href="https://github.com/downloads/blackjid/gwohelper/gwohelper.min.js" class="btn btn-xlarge">&nbsp;</a>
                </p>
            </div>

            <div id="summary" class="section">
                <div class="page-header">
                    <h1>Summary <small>What is it all about?</small></h1>
                </div>
                <p>
                    This helper allows you to dynamically load the control and tracking script provided by GWO, as well as to push the tracking beacon that starts the experiment and, finally, the goal.
                </p>
                <p>
                    It also provides a way to make changes to the page based on the experiment variations delivered by GWO. This can be done using <strong>CSS</strong> or <strong>javascript</strong>. This is specially useful when your site relies heavily on ajax and you don't reload or load different pages.
                </p>
            </div>

            <div id="setup" class="section">
                <div class="page-header">
                    <h1>Code Setup</h1>
                </div>
                <p>Insert the following snippet in your page and modify de values for your needs. Use it at the end of the page for faster loading</p>
<pre class="prettyprint linenums">
&lt;script src="gwohelper.js"&gt;&lt;/script&gt;
&lt;script&gt;
    gwohelper.account = "UA-XXXXXXX-X";
    gwohelper.debug = true; /* or false */
    gwohelper.init([
            {id:"xxxxxxxxxx", name:"experimentname1", track:false},
            {id:"xxxxxxxxxx", name:"experimentname2", track:false} /* n experiments */
        ],
        function(){/*callback code*/});                    
&lt;/script&gt;
</pre>
                <p>
                    <h4>gwohelper.account <small>string</small></h4>
                    This is the google web optimizer account ID you're going to use. i.e "UA-XXXXXXX-X"
                </p>
                <p>
                    <h4>gwohelper.debug <small>bool</small></h4>
                    If it's true, the script will write some logs in the browsers console and it will not send the tracking beacons
                </p>
                <p>
                    <h4>gwohelper.init(experiments, callback) <small>experiment, function</small></h4>
                    This is the initialization method. You pass an array with as many object as experiments you want to test
                </p>
                <p>
                    <h4>Experiment</h4>
                    <ul class="unstyled">
                        <li>
                            <strong>id</strong> Is the ID that GWO provide for this experiment (Step 9 in the GWO interface step-by-step guide)
                        </li>
                        <li>
                            <strong>name</strong> This is a name you need to assign to the experiment.
                        </li>
                        <li>
                            <strong>track</strong> Whether the experiment should start tracking automatically or you are going to start it manually
                        </li>
                    </ul>
                </p>
            </div>

            <div id="gwo" class="section">
                <div class="page-header">
                    <h1>Google web optimizer setup</h1>
                </div>
                <ul class="unstyled">
                    <li>
                        <div class="row">
                            <div class="span6">
                                1. Go to <a href="http://www.google.com/gwo" target="_blank">Google Web Optimizer website</a>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                2. Select the account that you're going to use
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                            3. Create a new experiment
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step3" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step3.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step3" class="modal hide step">
                            <img src="img/steps/step3.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                            4. Select a Multivariate Experiment
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                    <li class="span2">
                                        <a href="#step4" class="thumbnail" data-toggle="modal">
                                            <img src="img/steps/step4.png" alt="">
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step4" class="modal hide step">
                            <img src="img/steps/step4.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                5. Check the I've completed the steps above and.... checkbox and click Create
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step5" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step5.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step5" class="modal hide step">
                            <img src="img/steps/step5.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                <p>6. Name your experiment</p>

                                <p>7. Add your url in the "Test page URL" and in the "Conversion page URL", none of these urls are going to be used so you can put whatever you want. Click "Continue"</p>
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step67" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step6-7.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step67" class="modal hide step">
                            <img src="img/steps/step6-7.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                8. Select "You will install and validate the JavaScripts Tags" then click Continue 
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step8" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step8.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step8" class="modal hide step">
                            <img src="img/steps/step8.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">    
                                9. In the Control and Tracking script text area, find the experiment ID and use it in the experiment definitions in the gwohelper.js file
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step9" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step9.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step9" class="modal hide step">
                            <img src="img/steps/step9.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                10. Create a file with the experiment section definitions. You will need to write one line for each section. Use the same name that you defined in the experiment definitions in the init method of gwohelper. It should read like this:
                            </div>
                            <div class="span6">
<pre>
&lt;!-- utmx section name="Section1" --&gt;
&lt;!-- utmx section name="Section2" --&gt;
</pre>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                11. Click in the link Test page not accessible? Try offline validation, then select to browse the Test Page location and select the file you created in the step 10. It will return a few errors, but it should detect the sections you defined. Click continue in the window.
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step11a" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step11a.png" alt="">
                                    </a>
                                  </li>
                                  <li class="span2">
                                    <a href="#step11b" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step11b.png" alt="">
                                    </a>
                                  </li>
                                  <li class="span2">
                                    <a href="#step11c" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step11c.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step11a" class="modal hide step">
                            <img src="img/steps/step11a.png" alt="">
                        </div>
                        <div id="step11b" class="modal hide step">
                            <img src="img/steps/step11b.png" alt="">
                        </div>
                        <div id="step11c" class="modal hide step">
                            <img src="img/steps/step11c.png" alt="">
                        </div>

                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                12. Click Continue. Don't worry for all those errors.
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step12" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step12.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step12" class="modal hide step">
                            <img src="img/steps/step12.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                13. Confirm clicking in "Continue anyway"
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step13" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step13.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step13" class="modal hide step">
                            <img src="img/steps/step13.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                14. Now you can create as many variations you want for each section. Give them a name and you can leave the content empty. Then, click on Save and Continue
                            </div>
                            <div class="span6">
                                <ul class="thumbnails">
                                  <li class="span2">
                                    <a href="#step14" class="thumbnail" data-toggle="modal">
                                      <img src="img/steps/step14.png" alt="">
                                    </a>
                                  </li>
                                </ul>
                            </div>
                        </div>
                        <div id="step14" class="modal hide step">
                            <img src="img/steps/step14.png" alt="">
                        </div>
                    </li>
                    <li>
                        <div class="row">
                            <div class="span6">
                                15. Launch the experiment. You can launch the experiment with the debug property in gwohelper in true. This way you're not going to send any data until you change it to false in your production environment
                            </div>
                        </div>
                    </li>
                </ul>
            </div>

            <div id="experiments" class="section">
                <div class="page-header">
                    <h1>The experiments <small>Start tracking and set track the goal</small></h1>
                </div>
                <p>
                    The script will create an object for each experiment you defined in the setup in the <strong>gwohelper.experiments</strong> object. These objects have two methods to help you track your experiments and a few properties.
                </p>
                <p>
                    <h3>
                        start() <small>method</small>
                    </h3>
                    <p>
                        This method starts the tracking for this experiment. GWO will count this visit for the experiment statistics. This method is called automatically if the flag track is set to TRUE in the experiment definitions passed to the init method
                    </p>
                    <code class="prettyprint">gwohelper.experiments.experiment1.start()</code>
                </p>
                <p>
                    <h3>
                        goal() <small>method</small>
                    </h3>
                    <p>
                        This method will tell GWO that this visit convert for this experiment.
                    </p>
                    <code class="prettyprint">gwohelper.experiments.experiment1.goal()</code>
                </p>
                <p>
                    <h3>
                        utmx() <small>method</small>
                    </h3>
                    <p>
                        This is the original method exposed by the gwo script when loaded.
                        To use this method you should read <a href="http://www.gwotricks.com/2009_03_01_archive.html" target="_blank">this blog post from gwotricks.com</a>
                    </p>
                    <code class="prettyprint">gwohelper.experiments.experiment1.utmx()</code>
                </p>
                <p>
                    <h3>
                        sections <small>array</small>
                    </h3>
                    <p>
                        An array with all the sections defined for this experiment.
                        This sections are an object with the name of the section and the current variation.
                    </p>
                    <code class="prettyprint">gwohelper.experiments.experiment1.sections</code>
                </p>
                <p>
                    <h3>
                        combination <small>int</small>
                    </h3>
                    <p>
                        This is a number that identifies which combination of sections and its variations is currently being displayed. <a href="http://www.gwotricks.com/2009_03_01_archive.html" target="_blank">read more</a>
                    </p>
                    <code class="prettyprint">gwohelper.experiments.experiment1.combination</code>
                </p>
            </div>

            <div id="demo" class="section">
                <div class="page-header">
                    <h1>Demo</h1>
                </div>
                <p>
                    This page is using gwohelper. If you load it on an incognito browser you will see that each time there are some differences. These modifications are applied via javascript/css and are based on the variations google defined for each experiment.
                </p>
                <p>
                    For the demo I've created two experiments. One to test the download button conversion and the other to test the "fork me" link conversion.
                </p>
                <p>
                    This are the experiments definitions for this example.
<pre class="prettyprint">
gwohelper.init([
    {id:"0555007911", name:"download", track:true},
    {id:"0210659079", name:"fork", track:true}
]);
</pre>
                </p>  
                <h3>The following are the experiment objects.</h3>              
                <p>
                    <div class="row">
                        <div class="span6">
                            <h4>download experiment <small>gwohelper.experiments.download</small></h4>
<pre id="downloadJson" class="prettyprint">
{
    id:"0555007911",
    combination:<span class="comb"></span>,
    sections:[
        {
            name:"copy",
            variation:<span class="copy"></span>
        },
        {
            name:"button",
            variation:<span class="button"></span>
        }
    ]
}
</pre>
                        </div>
                        <div class="span6">
                            <h4>fork experiment <small>gwohelper.experiments.fork</small></h4>
<pre id="forkJson" class="prettyprint">
{
    id:"0210659079",
    combination:<span class="comb"></span>,
    sections:[
        {
            name:"button",
            variation:<span class="button"></span>
        }
    ]
}
</pre>
                        </div>
                    </div>
                </p>
                <h3>These are the variations.</h3>
                <p>
                    <h4>Experiment "download"</h4>
                    <div class="row">
                        <div class="span3">
                            <h6>Variation Button 0 - Copy 0</h6>  
                            <a href="" class="btn btn-primary btn-xlarge">Download gwohelper.js</a>  
                        </div>
                        <div class="span3">
                            <h6>Variation Button 1 - Copy 0</h6>
                            <a href="" class="btn btn-xlarge">Download gwohelper.js</a>
                        </div>
                        <div class="span3">
                            <h6>Variation Button 2 - Copy 0</h6>
                            <a href="" class="btn btn-success btn-xlarge">Download gwohelper.js</a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="span3">
                            <h6>Variation Button 0 - Copy 1</h6>  
                            <a href="" class="btn btn-primary btn-xlarge">Download it</a>  
                        </div>
                        <div class="span3">
                            <h6>Variation Button 1 - Copy 1</h6>
                            <a href="" class="btn btn-xlarge">Download it</a>
                        </div>
                        <div class="span3">
                            <h6>Variation Button 2 - Copy 1</h6>
                            <a href="" class="btn btn-success btn-xlarge">Download it</a>
                        </div>
                    </div>
                    <p>
                        <div class="row">
                            <div class="span6">
                                 <h6>The html</h6>            
<pre class="prettyprint">
&lt;a id="download" href="" class="btn btn-xlarge"&gt;&amp;nbsp;&lt;/a&gt;
</pre>  
                            </div>
                            <div class="span6">
                                <h6>The javascript</h6>            
<pre class="prettyprint">
_.each(gwohelper.experiments.download.sections, function(section){
    // section button
    if(section.name == "button"){
        var buttons = ['btn-primary','btn','btn-success'];
        $("#download").toggleClass(buttons[section.variation], true);

    }
    // section copy
    if(section.name == "copy"){
        var copies = ['Download gwohelper.js','Download it'];
        $("#download").html(copies[section.variation]);

    }
});
</pre>                              
                            In this example the defined variation is shown with <strong>javascript</strong>, the styling is done with <a href="http://twitter.github.com/bootstrap" target="_blank">bootstrap</a>
                            </div>
                        </div>
                    </p>

                    <h4>Experiment "fork"</h4>
                    <div class="row">
                        <div class="span3">
                            <h6>Variation 0</h6>
                            <img class="red" src="img/fork/red.png"/ > 
                        </div>
                        <div class="span3">
                            <h6>Variation 1</h6>
                            <img class="blue" src="img/fork/blue.png"/ > 
                        </div>
                        <div class="span3">
                            <h6>Variation 2</h6>
                            <img class="black" src="img/fork/black.png"/ > 
                        </div>
                    </div>           

                    <div class="row">
                        <div class="span6">
                             <h6>The html</h6>            
<pre class="prettyprint">
&lt;div class="forkme"&gt;
    &lt;a href="https://github.com/blackjid/gwohelper" target="_blank" data-action="goal" data-goal="fork"&gt;
        &lt;img class="red" src="img/fork/red.png"/ &gt;
        &lt;img class="black" src="img/fork/black.png"/ &gt;  
        &lt;img class="blue" src="img/fork/blue.png"/ &gt; 
    &lt;/a&gt;
&lt;/div&gt;
</pre>  
                        </div>
                        <div class="span6">
                            <h6>The css</h6>            
<pre class="prettyprint">
.forkme{
    position: absolute;
    right: 0;
    top: 40px;
}

.forkme img{
    display: none;
}
.gwo-fork-button-0 .forkme .red{display:block;}
.gwo-fork-button-1 .forkme .black{display:block;}
.gwo-fork-button-2 .forkme .blue{display:block;}
</pre>                              
                            In this example the defined variation is shown with <strong>css</strong> 
                        </div>
                    </div>
                </p>
                <p>
                   
                </p>
            </div>

            <div id="about" class="section">
                <div class="page-header">
                    <h1>About</h1>
                </div>
                <p>
                    The helper was tested in  FF 3.5+, Chrome 10+, IE7+
                </p>
                <p>
                    Any contribution and feedback is welcome. Please use twitter @blackjid or the github issues section for any feedback.
            </div>
        </div>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" ></script>
        <script src="js/app.js"></script>

        <!-- gwohelper -->
        <script src="js/gwohelper.js"></script>
        <script>
        gwohelper.account = "UA-8845687-3";
        gwohelper.debug = true;
        gwohelper.init([
                {id:"0555007911", name:"download", track:true},
                {id:"0210659079", name:"fork", track:true}
            ], function(){ 
            // Show the resolved values
            processExp();

            // Change the download button
            changeButton();
        });
        </script>

        <!-- Bootstrap js and dependencies-->
        <script src="js/underscore.min.js"></script>
        <script src="js/prettify/prettify.js"></script>
        <script src="js/bootstrap.js"></script>
    </body>   

</html>